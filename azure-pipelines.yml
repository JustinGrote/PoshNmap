# aka.ms/yaml
resources:
  repositories:
    - repository: powercd
      type: github
      name: JustinGrote/PowerCD
      # ref: refs/tags/v0.8.1 # optional ref to pin to
      endpoint: github

trigger:
  branches:
    include:
      - master
      - production
      - ci

stages:
- template: .ci/PowerCD.yml
  parameters:
    vmImage:
      - 'ubuntu-latest'
      - 'windows-latest'
      - 'macOS-latest'
    psVersion:
      - pwsh
      - powershell
    script: './build.ps1'
    linuxContainer: 'skip'
    windowsContainer: 'skip'